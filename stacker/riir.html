<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Prototype stacker</title>

    <style type="text/css">
        #c {
            width: 200px;
            height: 180px;
            image-rendering: crisp-edges;
        }
    </style>

</head>

<body>

    <h1>Prototype stacker</h1>

    <canvas id="c"></canvas>

    <script type="module">

        import init, { Game, Renderer } from "./pkg/stacker.js";
        await init();

        let $ = (id) => document.getElementById(id);

        let renderer = await new Renderer($("c").getContext("webgl2"));

        let game = Game.init_srs(10, 9, 8);
        game.put_some_in();

        let piece = game.spawn("T");
        if (piece) piece.row -= 2;

        // renderer.fix_pixel_size();
        renderer.drawField(game);
        if (piece) renderer.drawPiece(game, piece);

    </script>

</body>

</html>